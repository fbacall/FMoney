<% hide_source ||= false %>

<table class="transactions">
  <thead>
  <tr>
    <th>Date</th>
    <th>Type</th>
    <th style="width: 45%">Description</th>
    <th>Value</th>
    <th>Balance</th>
    <% unless hide_source %>
      <th>Source</th>
    <% end  %>
    <th colspan="3"></th>
  </tr>
  </thead>

  <tbody>
  <% transactions.each do |transaction| %>
    <tr>
      <td><%= transaction.date %></td>
      <td><%= transaction.transaction_type %></td>
      <td><%= transaction.description %></td>
      <td><%= number_to_money(transaction.value) %></td>
      <td><%= number_to_money(transaction.balance) %></td>
      <% unless hide_source %>
        <td>
          <% if transaction.source %>
            <%= link_to(transaction.source.title, transaction.source, class: 'source', style: "background-color: #{transaction.source.colour}") %>
          <% else %>
          <% end %>
        </td>
      <% end %>
      <!--        <td><%#= link_to 'Show', transaction %></td>-->
      <!--        <td><%#= link_to 'Edit', edit_transaction_path(transaction) %></td>-->
      <!--        <td><%#= link_to 'Destroy', transaction, method: :delete, data: { confirm: 'Are you sure?' } %></td>-->
    </tr>
  <% end %>
  </tbody>
</table>
